{% extends 'dashboard/base.html' %}
{% load static %}
{% block title %}
Student
{% endblock %}

{% block content %}
<div class="app-wrapper">

	<div class="app-content pt-3 p-md-3 p-lg-4">
		<div class="container-xl">

			<div class="d-flex justify-content-between align-items-center mb-4">
				<h1 class="app-page-title mb-0"><i class="fas fa-stream me-2"></i>Streams</h1>
				<div class="d-flex align-items-center gap-3">
					<div class="input-group" style="max-width: 300px;">
						<span class="input-group-text border-0 bg-transparent"><i class="fas fa-search text-muted"></i></span>
						<input type="text" id="streams-search" class="form-control border-0 shadow-none" placeholder="Search streamsâ€¦" autocomplete="off" />
						<button type="button" class="btn btn-link px-2 clear-search" hidden><i class="fas fa-times-circle text-muted"></i></button>
					</div>
					<a class="btn app-btn-primary text-nowrap" href="{% url 'add_stream' %}"><i class="fas fa-plus me-2"></i>Create New Stream</a>
				</div>
			</div>


			<div class="tab-content" id="orders-table-tab-content">
				<div class="tab-pane fade show active" id="orders-all" role="tabpanel" aria-labelledby="orders-all-tab">
					<div class="app-card app-card-orders-table shadow-sm mb-5">
						<div class="app-card-body">
							<div class="table-responsive">
								<table id="streams-table" class="table app-table-hover mb-0 text-left">
									<thead>
										<tr>
											<th class="cell" style="width: 8%;">ID</th>
											<th class="cell" style="width: 25%;">Stream Name</th>
											<th class="cell" style="width: 20%;">Slug</th>
											<th class="cell" style="width: 20%;">Academic Level</th>
											<th class="cell" style="width: 12%;">Subjects</th>
											<th class="cell" style="width: 15%;">Actions</th>
										</tr>
									</thead>
									<tbody>
										{% for stream in streams %}
										<tr>
											<td class="cell">
												<span class="badge bg-secondary">#{{ stream.id }}</span>
											</td>
											<td class="cell">
												<div class="d-flex align-items-center">
													<i class="fas fa-stream text-success me-2"></i>
													<strong>{{ stream.name }}</strong>
												</div>
											</td>
											<td class="cell">
												<code class="bg-light p-1 rounded">{{ stream.slug }}</code>
											</td>
											<td class="cell">
												{% if stream.level %}
													<span class="badge bg-info">
														<i class="fas fa-graduation-cap me-1"></i>
														{{ stream.level.name }}
													</span>
												{% else %}
													<span class="badge bg-secondary">No level</span>
												{% endif %}
											</td>
											<td class="cell">
												<div class="d-flex align-items-center">
													<i class="fas fa-book text-primary me-2"></i>
													<span class="badge bg-primary">{{ stream.subject_count|default:0 }}</span>
												</div>
											</td>
											<td class="cell">
												<a class="btn btn-sm btn-outline-primary" href="{% url 'dashboard:stream_detail' stream.id %}">
													<i class="fas fa-eye me-1"></i>View Details
												</a>
											</td>
										</tr>
										{% endfor %}
									</tbody>
								</table>
							</div><!--//table-responsive-->

						</div><!--//app-card-body-->
				</div><!--//app-card-->



				{% endblock %}
				{% block extra_scripts %}
				<script src="{% static 'dashboard/assets/plugins/popper.min.js' %}"></script>
				<script src="{% static 'dashboard/assets/plugins/bootstrap/js/bootstrap.min.js' %}"></script>

				<!-- Page Specific JS -->
				<script src="{% static 'dashboard/assets/js/app.js' %}"></script>
				<script src="{% static 'dashboard/assets/js/page-search.js' %}"></script>
				<script>initPageSearch('streams-search', 'streams-table');</script>
				{% endblock %}